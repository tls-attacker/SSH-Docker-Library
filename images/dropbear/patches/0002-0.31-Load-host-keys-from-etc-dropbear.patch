From 1b5a5d7e370bb0ff33b698d9453cd245495392ca Mon Sep 17 00:00:00 2001
From: Jan Holthuis <jan.holthuis@ruhr-uni-bochum.de>
Date: Fri, 19 Aug 2022 17:52:39 +0200
Subject: [PATCH] [0.31] Load host keys from `/etc/dropbear`

Instead of using the current directory, dropbear should look for the
host keys in `/etc/dropbear`, just like more recent version do.
---
 options.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/options.h b/options.h
index 8207916..95deacb 100644
--- a/options.h
+++ b/options.h
@@ -38,8 +38,8 @@
 #define DROPBEAR_PORT 22

 /* Hostkey paths */
-#define DSS_PRIV_FILENAME "dropbear_dss_host_key"
-#define RSA_PRIV_FILENAME "dropbear_rsa_host_key"
+#define DSS_PRIV_FILENAME "/etc/dropbear/dropbear_dss_host_key"
+#define RSA_PRIV_FILENAME "/etc/dropbear/dropbear_rsa_host_key"

 /* Encryption - at least one required.
  * SSH2 RFC Draft requires 3DES and recommends blowfish, aes128 & twofish128 */
--
2.37.1
